<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.7.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Yilin &#39;Alex&#39; Wang">

  
  
  
    
  
  <meta name="description" content="Github LinkLinux shell accepts user commands and then executes each command in a separate process. The shell provides the user a prompt at which the next command is entered.
One technique for implementing a shell interface is to have the parent process first read what the user enters on the command line and then create a separate child process that performs the command. Unless otherwise specified, the parent process waits for the child to exit before continuing.">

  
  <link rel="alternate" hreflang="en-us" href="/post/linux_shell/">

  


  
  
  
  <meta name="theme-color" content="#1c304b">
  

  
  
  
  <script src="/js/mathjax-config.js"></script>
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css" integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js" integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    

  

  
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap">
  

  
  
  
  
  <link rel="stylesheet" href="/css/academic.css">

  




  


  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/images/icon_huf793c9dfb803421b4b8a7af1a4c9d1f6_1291_32x32_fill_lanczos_center_3.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_huf793c9dfb803421b4b8a7af1a4c9d1f6_1291_192x192_fill_lanczos_center_3.png">

  <link rel="canonical" href="/post/linux_shell/">

  
  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary">
  
  <meta property="twitter:site" content="@Aiixalex">
  <meta property="twitter:creator" content="@Aiixalex">
  
  <meta property="og:site_name" content="Yilin&#39;s Studio">
  <meta property="og:url" content="/post/linux_shell/">
  <meta property="og:title" content="A customized Linux Shell by C | Yilin&#39;s Studio">
  <meta property="og:description" content="Github LinkLinux shell accepts user commands and then executes each command in a separate process. The shell provides the user a prompt at which the next command is entered.
One technique for implementing a shell interface is to have the parent process first read what the user enters on the command line and then create a separate child process that performs the command. Unless otherwise specified, the parent process waits for the child to exit before continuing."><meta property="og:image" content="img/map[gravatar:%!s(bool=false) shape:square]">
  <meta property="twitter:image" content="img/map[gravatar:%!s(bool=false) shape:square]"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2021-02-15T00:00:00&#43;00:00">
    
    <meta property="article:modified_time" content="2021-02-15T00:00:00&#43;00:00">
  

  


    






  






<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/post/linux_shell/"
  },
  "headline": "A customized Linux Shell by C",
  
  "datePublished": "2021-02-15T00:00:00Z",
  "dateModified": "2021-02-15T00:00:00Z",
  
  "author": {
    "@type": "Person",
    "name": "Yilin 'Alex' Wang"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "Yilin's Studio",
    "logo": {
      "@type": "ImageObject",
      "url": "img//"
    }
  },
  "description": "Github Link\rLinux shell accepts user commands and then executes each command in a separate process. The shell provides the user a prompt at which the next command is entered.\nOne technique for implementing a shell interface is to have the parent process first read what the user enters on the command line and then create a separate child process that performs the command. Unless otherwise specified, the parent process waits for the child to exit before continuing."
}
</script>

  

  


  


  





  <title>A customized Linux Shell by C | Yilin&#39;s Studio</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  







<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">Yilin&#39;s Studio</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">Yilin&#39;s Studio</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-end" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#about"><span>Home</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#posts"><span>Posts</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#contact"><span>Contact</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      

      

    </ul>

  </div>
</nav>


  <article class="article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1>A customized Linux Shell by C</h1>

  

  
    


<div class="article-metadata">

  
  
  
  
  <div>
    



  
  <span><a href="/authors/admin/">Yilin &#39;Alex&#39; Wang</a></span>

  </div>
  
  

  
  <span class="article-date">
    
    
      
    
    Feb 15, 2021
  </span>
  

  

  

  
  
  

  
  

</div>

    














  
</div>



  <div class="article-container">

    <div class="article-style">
      <p>
<a href="https://github.com/Aiixalex/Linux-Shell" target="_blank" rel="noopener"><em><strong>Github Link</strong></em></a>
</p>
<p>Linux shell accepts user commands and then executes each command in a separate process. The shell provides the user a prompt at which the next command is entered.</p>
<p>One technique for implementing a shell interface is to have the parent process first read what the user enters on the command line and then create a separate child process that performs the command. Unless otherwise specified, the parent process waits for the child to exit before continuing. However, UNIX shells typically also allow the child process to run in the background - or concurrently - as well by specifying the ampersand (&amp;) at the end of the command. The separate child process is created using the <code>fork()</code> system call and the user&rsquo;s command is executed by using one of the system calls in the <code>exec()</code> family.</p>
<h2 id="install">Install</h2>
<p>Install the repository.</p>
<pre><code class="language-shell">$ make
$ ./shell
</code></pre>
<h2 id="usage">Usage</h2>
<h3 id="basic-shell">Basic Shell</h3>
<p>To implement a shell interface, the parent process first calls <code>read_command()</code> to reads a full command from the user and tokenizes it into separate arguments. Those tokens can be passed directly to <code>execvp()</code> in the child process.</p>
<p>Unless otherwise specified, the parent process waits for the child to exit before continuing. However, UNIX shells typically also allow the child process to run in the background - or concurrently - as well by specifying the ampersand (&amp;) at the end of the command. In such circumstance, <code>read_command()</code> will set the <code>in_background</code> parameter to true</p>
<p>The <code>main()</code> function first calls <code>read_command()</code>, which .  If the user enters an &ldquo;&amp;&rdquo; as the final argument, <code>read_command()</code> will set the <code>in_background</code> parameter to true</p>
<ol>
<li><code>Fork()</code> a child process</li>
<li>Child process invokes <code>execvp()</code> using results in token array.</li>
<li>If in_background is false, parent waits for child to finish. Otherwise, parent loops back to <code>read_command()</code> again immediately.</li>
</ol>
<pre><code class="language-shell">/home/alex_wang_10/repos/Linux-Shell$ ls
makefile  README.md  shell  shell.c  shell.o
/home/alex_wang_10/repos/Linux-Shell$
</code></pre>
<pre><code class="language-shell">/home/alex_wang_10/repos/Linux-Shell$ ls &amp;
/home/alex_wang_10/repos/Linux-Shell$ makefile  README.md  shell  shell.c  shell.o
</code></pre>
<h3 id="internal-commands">Internal Commands</h3>
<p>Internal commands are built-in features of the shell itself, as opposed to a separate program that is executed. The commands listed below are implemented.</p>
<ul>
<li><code>exit</code>: Exit the shell program.</li>
<li><code>pwd</code>: Display the current working directory.</li>
<li><code>cd</code>: Change the current working directory.</li>
<li><code>help</code>: Display help information on internal commands.</li>
</ul>
<pre><code class="language-shell">/home/alex_wang_10/repos/Linux-Shell$ cd ~
/home/alex_wang_10$ cd -
/home/alex_wang_10/repos/Linux-Shell$ cd 
/home/alex_wang_10$ cd repos/Linux-Shell
/home/alex_wang_10/repos/Linux-Shell$
</code></pre>
<h3 id="history-feature">History Feature</h3>
<p>Shell allows the user access up to 10 most recently entered commands.</p>
<ul>
<li>Command &ldquo;!n&rdquo; runs command number n.</li>
<li>Command &ldquo;!!&rdquo; runs the previous command.</li>
</ul>
<pre><code class="language-shell">/home/alex_wang_10/repos$ history
23        history
22        touch a.c
21        echo Hello!
20        man pthread_create
19        ls
18        cd repos
17        cd
16        cd ~
15        cd -
14        pwd
/home/alex_wang_10/repos$
</code></pre>
<pre><code class="language-shell">alex_wang_10@DESKTOP-B47DDOK:~/repos/Linux-Shell$ ./shell
/home/alex_wang_10/repos/Linux-Shell$ echo Hello!
Hello!
/home/alex_wang_10/repos/Linux-Shell$ !!
echo Hello!
Hello!
/home/alex_wang_10/repos/Linux-Shell$ ls
makefile  README.md  shell  shell.c  shell.o
/home/alex_wang_10/repos/Linux-Shell$ !2
ls
makefile  README.md  shell  shell.c  shell.o
</code></pre>
<h3 id="signals">Signals</h3>
<p>Change your shell program to display the help information when the user presses ctrl-c (which is the SIGINT signal).</p>
<pre><code class="language-shell">/home/alex_wang_10/repos/Linux-Shell$ ^C
A simple Linux Shell, version 1.0.1-release
These shell commands are defined internally.
cd [dir]         Change the current working directory.
exit             Exit the shell program.
help [command]   Display help information on internal commands.
pwd              Display the current working directory.
/home/alex_wang_10/repos/Linux-Shell$
</code></pre>

    </div>

    







<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=/post/linux_shell/&amp;text=A%20customized%20Linux%20Shell%20by%20C" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=/post/linux_shell/&amp;t=A%20customized%20Linux%20Shell%20by%20C" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=A%20customized%20Linux%20Shell%20by%20C&amp;body=/post/linux_shell/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=/post/linux_shell/&amp;title=A%20customized%20Linux%20Shell%20by%20C" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://web.whatsapp.com/send?text=A%20customized%20Linux%20Shell%20by%20C%20/post/linux_shell/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=/post/linux_shell/&amp;title=A%20customized%20Linux%20Shell%20by%20C" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>












  
  
    
  
  






  
  
  
    
  
  
  
  <div class="media author-card content-widget-hr">
    
      
      <img class="avatar mr-3 avatar-square" src="/authors/admin/avatar_hud1cccc2dccf8b38f63e3142c1313f918_335678_270x270_fill_q90_lanczos_center.jpg" alt="Avatar">
    

    <div class="media-body">
      <h5 class="card-title"><a href="/">Yilin &#39;Alex&#39; Wang</a></h5>
      <h6 class="card-subtitle">Developer</h6>
      <p class="card-text">Piano/Tennis/Dota is Life.</p>
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
    <li>
      <a href="mailto:redcloveralex@gmail.com" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/Aiixalex" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.instagram.com/wang_yilin10/" target="_blank" rel="noopener">
        <i class="fab fa-instagram"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>







<div class="article-widget">
  
<div class="post-nav">
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Next</div>
    <a href="/post/candykids/" rel="next">CandyKids</a>
  </div>
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Previous</div>
    <a href="/post/color_scheme/" rel="prev">Color Scheme &#39;Violet&#39; for my Home Page</a>
  </div>
  
</div>

</div>



  
  



  </div>
</article>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.4/mermaid.min.js" integrity="sha256-JEqEejGt4tR35L0a1zodzsV0/PJ6GIf7J4yDtywdrH8=" crossorigin="anonymous" title="mermaid"></script>
      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js" integrity="sha256-1zu+3BnLYV9LdiY85uXMzii3bdrkelyp37e0ZyTAQh0=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/r.min.js"></script>
        
      

    

    
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.ebdecbafb24a1afacd6150c2056d315f.js"></script>

    






  
  
  <div class="container">
    <footer class="site-footer">
  

  <p class="powered-by">
    Â© 2024 Yilin Wang
    
    

    

    
    <span class="float-right" aria-hidden="true">
      <a href="#" class="back-to-top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
